<%
	# compact version of available item request actions based on user's role
	# for example used in dashboard.html.erb
%>

<li>
	<%= link_to 'view request', request_path(req), :id => "request_#{req.id}" %>
</li>

<% if req.status == ItemRequest::STATUS_REQUESTED %>

	<%= gifter_only(req) do %>
		<li>
			<%= link_to "accept", accept_request_path(req), :id => "accept_button", :method => :put %>
		</li>
		<li>
			<%= link_to "reject", reject_request_path(req), :id => "reject_button", :method => :put %>
		</li>
		
		
	<% end %>
	
	<%= requester_only(req) do %>
		<li>
			<%= link_to "cancel", cancel_request_path(req), :id => "cancel_button", :method => :put %>
		</li>
	<% end %>

<% elsif req.status == ItemRequest::STATUS_ACCEPTED %>

	<%= requester_and_gifter_only(req) do %>
		<li>
			<%= link_to "cancel", cancel_request_path(req), :id => "cancel_button", :method => :put %>
		</li>
		<li>	
			<%= link_to "collected", collected_request_path(req), :id => "collected_button", :method => :put %>
		</li>
		<li>
			<%= link_to "complete", complete_request_path(req), :id => "complete_button", :method => :put %>
		</li>
		
	<% end %>

<% elsif req.status == ItemRequest::STATUS_COLLECTED %>

	<%= requester_and_gifter_only(req) do %>
		<li>
			<%= link_to "complete", complete_request_path(req), :id => "complete_button", :method => :put %>
		<li>
	<% end %>

<% end %>
